"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[140],{82175:function(N,y,e){e.r(y),e.d(y,{default:function(){return ne}});var M=e(97857),f=e.n(M),S=e(15009),v=e.n(S),U=e(99289),j=e.n(U),F=e(5574),I=e.n(F),g=e(612),b=e(51042),E=e(39380),W=e(64040),T=e(184),u=e(97685),a=e(1413),h=e(45987),P=e(21770),l=e(8232),K=e(55241),G=e(97435),C=e(67294),D=e(1198),n=e(85893),w=["fieldProps","proFieldProps"],z=["fieldProps","proFieldProps"],O="text",V=function(t){var r=t.fieldProps,d=t.proFieldProps,o=(0,h.Z)(t,w);return(0,n.jsx)(D.Z,(0,a.Z)({valueType:O,fieldProps:r,filedConfig:{valueType:O},proFieldProps:d},o))},H=function(t){var r=(0,P.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),d=(0,u.Z)(r,2),o=d[0],c=d[1];return(0,n.jsx)(l.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(_){var i,x=_.getFieldValue(t.name||[]);return(0,n.jsx)(K.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return c(s)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(i=t.statusRender)===null||i===void 0?void 0:i.call(t,x),t.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:o,children:t.children}))}})},J=function(t){var r=t.fieldProps,d=t.proFieldProps,o=(0,h.Z)(t,z),c=(0,C.useState)(!1),A=(0,u.Z)(c,2),_=A[0],i=A[1];return r!=null&&r.statusRender&&o.name?(0,n.jsx)(H,{name:o.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:_,onOpenChange:i,children:(0,n.jsx)("div",{children:(0,n.jsx)(D.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,G.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(p){var s;r==null||(s=r.onBlur)===null||s===void 0||s.call(r,p),i(!1)},onClick:function(p){var s;r==null||(s=r.onClick)===null||s===void 0||s.call(r,p),i(!0)}}),proFieldProps:d,filedConfig:{valueType:O}},o))})}):(0,n.jsx)(D.Z,(0,a.Z)({valueType:"password",fieldProps:r,proFieldProps:d,filedConfig:{valueType:O}},o))},L=V;L.Password=J,L.displayName="ProFormComponent";var Z=L,Q=["fieldProps","proFieldProps"],X=function(t,r){var d=t.fieldProps,o=t.proFieldProps,c=(0,h.Z)(t,Q);return(0,n.jsx)(D.Z,(0,a.Z)({ref:r,valueType:"textarea",fieldProps:d,proFieldProps:o},c))},Y=C.forwardRef(X),k=e(34994),q=e(86738),ee=e(14726),re=function(){var t=(0,C.useState)(!1),r=I()(t,2),d=r[0],o=r[1],c=(0,C.useRef)(),A=function(){o(!0)},_=[{title:"\u73AF\u5883 id",dataIndex:"id"},{title:"\u73AF\u5883\u540D",dataIndex:"name"},{title:"\u73AF\u5883\u63CF\u8FF0",dataIndex:"description"},{title:"Agent \u5730\u5740",dataIndex:"agentUrl",copyable:!0},{title:"\u64CD\u4F5C",search:!1,valueType:"option",render:function(x,p,s){return[(0,n.jsx)(q.Z,{title:"\u5220\u9664\u73AF\u5883\u4FE1\u606F",description:"\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u8BE5\u73AF\u5883\u4FE1\u606F\uFF1F",onConfirm:j()(v()().mark(function $(){var m;return v()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,g.iO)({id:p.id});case 2:(m=c.current)===null||m===void 0||m.reload();case 3:case"end":return B.stop()}},$)})),children:(0,n.jsx)("a",{children:"\u5220\u9664"})},s)]}}];return(0,n.jsxs)(E._z,{children:[(0,n.jsx)(W.Z,{actionRef:c,search:!1,columns:_,request:g.hP,headerTitle:(0,n.jsx)(ee.ZP,{type:"primary",onClick:A,icon:(0,n.jsx)(b.Z,{}),children:"\u65B0\u5EFA\u73AF\u5883"})}),(0,n.jsxs)(T.a,{open:d,onOpenChange:o,onFinish:function(){var i=j()(v()().mark(function x(p){var s;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(p),m.next=3,(0,g.Dk)(f()({},p));case 3:return(s=c.current)===null||s===void 0||s.reload(),m.abrupt("return",!0);case 5:case"end":return m.stop()}},x)}));return function(x){return i.apply(this,arguments)}}(),title:"\u65B0\u5EFA\u73AF\u5883",children:[(0,n.jsx)(Z,{required:!0,name:"name",label:"\u73AF\u5883\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u73AF\u5883\u540D"}]}),(0,n.jsx)(Y,{name:"description",label:"\u73AF\u5883\u63CF\u8FF0"}),(0,n.jsx)(Z,{required:!0,name:"agentUrl",label:"Agent \u5730\u5740",placeholder:"\u5F62\u5982 https://loops-agent.xxxx.com",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u5730\u5740"}]}),(0,n.jsxs)(k.A.Group,{children:[(0,n.jsx)(Z,{name:"agentAuthUser",width:"md",label:"Agent \u8BA4\u8BC1\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u8BA4\u8BC1\u8D26\u53F7"}]}),(0,n.jsx)(Z.Password,{name:"agentAuthPasswd",width:"md",label:"Agent \u8BA4\u8BC1\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u8BA4\u8BC1\u5BC6\u7801"}]})]})]})]})},ne=re},612:function(N,y,e){e.d(y,{Dk:function(){return b},hP:function(){return I},iO:function(){return W}});var M=e(15009),f=e.n(M),S=e(97857),v=e.n(S),U=e(99289),j=e.n(U),F=e(80854);function I(u){return g.apply(this,arguments)}function g(){return g=j()(f()().mark(function u(a){return f()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,F.request)("/api/v1/envs",v()({method:"GET"},a||{})));case 1:case"end":return P.stop()}},u)})),g.apply(this,arguments)}function b(u,a){return E.apply(this,arguments)}function E(){return E=j()(f()().mark(function u(a,h){return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,F.request)("/api/v1/envs",v()({method:"POST",data:v()({},a)},h||{})));case 1:case"end":return l.stop()}},u)})),E.apply(this,arguments)}function W(u,a){return T.apply(this,arguments)}function T(){return T=j()(f()().mark(function u(a,h){return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,F.request)("/api/v1/envs/"+a.id,v()({method:"DELETE"},h||{})));case 1:case"end":return l.stop()}},u)})),T.apply(this,arguments)}}}]);
