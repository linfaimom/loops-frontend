"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[550],{13914:function(ie,C,e){e.r(C),e.d(C,{default:function(){return _}});var P=e(15009),d=e.n(P),I=e(99289),x=e.n(I),J=e(5574),v=e.n(J),E=e(97857),L=e.n(E),y=e(80854);function T(t){return h.apply(this,arguments)}function h(){return h=x()(d()().mark(function t(n){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,y.request)("/api/v1/corpegresses",L()({method:"POST",headers:{key:"egrees_1",secret:"5de25b29de21702d9534663d2d9e04b6"},data:{status:"1"}},n||{})));case 1:case"end":return r.stop()}},t)})),h.apply(this,arguments)}var F=e(1413),i=e(67294),W=e(48820),B=e(91146),G=function(n,a){return i.createElement(B.Z,(0,F.Z)((0,F.Z)({},n),{},{ref:a,icon:W.Z}))},$=i.forwardRef(G),M=$,z=e(39380),H=e(64040),X=e(2453),K=e(14726),Q=e(28248),c=e(78045),U=e(96074),V=e(70006),Y=e(20640),D=e.n(Y),s=e(85893),b=[{dataIndex:"index",valueType:"index"},{title:"\u5F52\u5C5E\u5730\u533A",dataIndex:"area"},{title:"IP \u5730\u5740",dataIndex:"addr",copyable:!0},{title:"\u6807\u7B7E",dataIndex:"tag"}],R=function(n){var a=n==null?void 0:n.map(function(r){return r.addr});return a.join(`
`)},k=function(n){var a=n==null?void 0:n.map(function(r){return r.addr});return JSON.stringify(a)},w=function(n){var a=n==null?void 0:n.map(function(r){return"allow "+r.addr+";"});return a.push("deny all;"),a.join(`
`)},u=function(t){return t[t.ReturnSplit=0]="ReturnSplit",t[t.JsonArray=1]="JsonArray",t[t.NginxWhiteListSnippet=2]="NginxWhiteListSnippet",t}(u||{}),q=function(){var n=(0,y.useRequest)(function(){return T({getResponse:!0})}),a=n.data,r=X.ZP.useMessage(),j=v()(r,2),ee=j[0],ne=j[1],te=(0,i.useState)(!1),A=v()(te,2),ae=A[0],g=A[1],re=(0,i.useState)(u.ReturnSplit),Z=v()(re,2),se=Z[0],m=Z[1],ue=(0,i.useState)(""),O=v()(ue,2),N=O[0],f=O[1],p=a,oe=function(o){switch(o){case u.ReturnSplit:f(R(p));break;case u.JsonArray:f(k(p));break;case u.NginxWhiteListSnippet:f(w(p));break;default:break}},le=function(){var l=x()(d()().mark(function o(){return d()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:D()(N),ee.success("\u5DF2\u62F7\u8D1D\u81F3\u526A\u5207\u677F");case 2:case"end":return S.stop()}},o)}));return function(){return l.apply(this,arguments)}}();return(0,s.jsxs)(z._z,{children:[ne,(0,s.jsx)(H.Z,{columns:b,dataSource:a,search:!1,headerTitle:(0,s.jsx)(K.ZP,{type:"primary",onClick:function(){g(!0),f(R(p))},icon:(0,s.jsx)(M,{}),children:"\u4E00\u952E\u62F7\u8D1D\u5168\u90E8 IP \u5730\u5740"})}),(0,s.jsxs)(Q.Z,{title:"\u5185\u5BB9\u683C\u5F0F\u786E\u8BA4",open:ae,onOk:function(){le(),g(!1),m(u.ReturnSplit)},onCancel:function(){g(!1),m(u.ReturnSplit)},children:[(0,s.jsxs)(c.ZP.Group,{onChange:function(o){m(o.target.value),oe(o.target.value)},value:se,children:[(0,s.jsx)(c.ZP,{value:u.ReturnSplit,children:"\u6362\u884C\u7B26\u5206\u5272\u5F62\u5F0F"}),(0,s.jsx)(c.ZP,{value:u.JsonArray,children:"JSON \u6570\u7EC4\u5F62\u5F0F"}),(0,s.jsx)(c.ZP,{value:u.NginxWhiteListSnippet,children:"NGINX \u767D\u540D\u5355\u5F62\u5F0F"})]}),(0,s.jsx)(U.Z,{}),(0,s.jsx)(V.Z,{value:N,autoSize:{minRows:3,maxRows:10}})]})]})},_=q}}]);
