"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[140],{51042:function(K,x,e){var j=e(1413),u=e(67294),T=e(42110),l=e(91146),A=function(O,m){return u.createElement(l.Z,(0,j.Z)((0,j.Z)({},O),{},{ref:m,icon:T.Z}))},h=u.forwardRef(A);x.Z=h},82175:function(K,x,e){e.r(x),e.d(x,{default:function(){return re}});var j=e(97857),u=e.n(j),T=e(15009),l=e.n(T),A=e(99289),h=e.n(A),F=e(5574),O=e.n(F),m=e(612),W=e(51042),C=e(39380),L=e(64040),D=e(184),d=e(97685),a=e(1413),g=e(45987),_=e(21770),i=e(8232),N=e(55241),G=e(97435),R=e(67294),M=e(1198),r=e(85893),w=["fieldProps","proFieldProps"],z=["fieldProps","proFieldProps"],B="text",V=function(t){var n=t.fieldProps,p=t.proFieldProps,o=(0,g.Z)(t,w);return(0,r.jsx)(M.Z,(0,a.Z)({valueType:B,fieldProps:n,filedConfig:{valueType:B},proFieldProps:p},o))},H=function(t){var n=(0,_.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),p=(0,d.Z)(n,2),o=p[0],f=p[1];return(0,r.jsx)(i.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Z){var v,E=Z.getFieldValue(t.name||[]);return(0,r.jsx)(N.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return f(s)},content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(v=t.statusRender)===null||v===void 0?void 0:v.call(t,E),t.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:o,children:t.children}))}})},J=function(t){var n=t.fieldProps,p=t.proFieldProps,o=(0,g.Z)(t,z),f=(0,R.useState)(!1),y=(0,d.Z)(f,2),Z=y[0],v=y[1];return n!=null&&n.statusRender&&o.name?(0,r.jsx)(H,{name:o.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:Z,onOpenChange:v,children:(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,G.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(c){var s;n==null||(s=n.onBlur)===null||s===void 0||s.call(n,c),v(!1)},onClick:function(c){var s;n==null||(s=n.onClick)===null||s===void 0||s.call(n,c),v(!0)}}),proFieldProps:p,filedConfig:{valueType:B}},o))})}):(0,r.jsx)(M.Z,(0,a.Z)({valueType:"password",fieldProps:n,proFieldProps:p,filedConfig:{valueType:B}},o))},b=V;b.Password=J,b.displayName="ProFormComponent";var U=b,Q=["fieldProps","proFieldProps"],X=function(t,n){var p=t.fieldProps,o=t.proFieldProps,f=(0,g.Z)(t,Q);return(0,r.jsx)(M.Z,(0,a.Z)({ref:n,valueType:"textarea",fieldProps:p,proFieldProps:o},f))},Y=R.forwardRef(X),k=e(34994),q=e(86738),ee=e(14726),ne=function(){var t=(0,R.useState)(!1),n=O()(t,2),p=n[0],o=n[1],f=(0,R.useRef)(),y=function(){o(!0)},Z=[{title:"\u73AF\u5883 id",dataIndex:"id"},{title:"\u73AF\u5883\u540D",dataIndex:"name"},{title:"\u73AF\u5883\u63CF\u8FF0",dataIndex:"description"},{title:"Agent \u5730\u5740",dataIndex:"agentUrl",copyable:!0},{title:"\u64CD\u4F5C",search:!1,valueType:"option",render:function(E,c,s){return[(0,r.jsx)(q.Z,{title:"\u5220\u9664\u73AF\u5883\u4FE1\u606F",description:"\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u8BE5\u73AF\u5883\u4FE1\u606F\uFF1F",onConfirm:h()(l()().mark(function $(){var P;return l()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,m.iO)({id:c.id});case 2:(P=f.current)===null||P===void 0||P.reload();case 3:case"end":return I.stop()}},$)})),children:(0,r.jsx)("a",{children:"\u5220\u9664"})},s)]}}];return(0,r.jsxs)(C._z,{children:[(0,r.jsx)(L.Z,{actionRef:f,search:!1,columns:Z,request:m.hP,headerTitle:(0,r.jsx)(ee.ZP,{type:"primary",onClick:y,icon:(0,r.jsx)(W.Z,{}),children:"\u65B0\u5EFA\u73AF\u5883"})}),(0,r.jsxs)(D.a,{open:p,onOpenChange:o,onFinish:function(){var v=h()(l()().mark(function E(c){var s;return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log(c),P.next=3,(0,m.Dk)(u()({},c));case 3:return(s=f.current)===null||s===void 0||s.reload(),P.abrupt("return",!0);case 5:case"end":return P.stop()}},E)}));return function(E){return v.apply(this,arguments)}}(),title:"\u65B0\u5EFA\u73AF\u5883",children:[(0,r.jsx)(U,{required:!0,name:"name",label:"\u73AF\u5883\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u73AF\u5883\u540D"}]}),(0,r.jsx)(Y,{name:"description",label:"\u73AF\u5883\u63CF\u8FF0"}),(0,r.jsx)(U,{required:!0,name:"agentUrl",label:"Agent \u5730\u5740",placeholder:"\u5F62\u5982 https://loops-agent.xxxx.com",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u5730\u5740"}]}),(0,r.jsxs)(k.A.Group,{children:[(0,r.jsx)(U,{name:"agentAuthUser",width:"md",label:"Agent \u8BA4\u8BC1\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u8BA4\u8BC1\u8D26\u53F7"}]}),(0,r.jsx)(U.Password,{name:"agentAuthPasswd",width:"md",label:"Agent \u8BA4\u8BC1\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Agent \u8BA4\u8BC1\u5BC6\u7801"}]})]})]})]})},re=ne},612:function(K,x,e){e.d(x,{Dk:function(){return W},hP:function(){return O},iO:function(){return L}});var j=e(15009),u=e.n(j),T=e(97857),l=e.n(T),A=e(99289),h=e.n(A),F=e(80854);function O(d){return m.apply(this,arguments)}function m(){return m=h()(u()().mark(function d(a){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,F.request)("/api/v1/envs",l()({method:"GET"},a||{})));case 1:case"end":return _.stop()}},d)})),m.apply(this,arguments)}function W(d,a){return C.apply(this,arguments)}function C(){return C=h()(u()().mark(function d(a,g){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,F.request)("/api/v1/envs",l()({method:"POST",data:l()({},a)},g||{})));case 1:case"end":return i.stop()}},d)})),C.apply(this,arguments)}function L(d,a){return D.apply(this,arguments)}function D(){return D=h()(u()().mark(function d(a,g){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,F.request)("/api/v1/envs/"+a.id,l()({method:"DELETE"},g||{})));case 1:case"end":return i.stop()}},d)})),D.apply(this,arguments)}}}]);
