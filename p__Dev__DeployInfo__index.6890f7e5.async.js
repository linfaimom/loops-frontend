"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[285],{44479:function(L,E,e){e.r(E),e.d(E,{default:function(){return G}});var j=e(5574),a=e.n(j),y=e(15009),o=e.n(y),P=e(97857),d=e.n(P),f=e(99289),T=e.n(f),m=e(80854);function x(I,D){return l.apply(this,arguments)}function l(){return l=T()(o()().mark(function I(D,u){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/v1/deployments",d()({method:"GET",params:d()({},D)},u||{})));case 1:case"end":return i.stop()}},I)})),l.apply(this,arguments)}var b=e(612),p=e(39380),r=e(64040),s=e(48096),c=e(72269),t=e(67294),n=e(85893),g="low-code",K="gray-low-code",W=function(){var D=(0,m.useRequest)(function(){return(0,b.hP)()}),u=D.data,C=(0,t.useState)(0),i=a()(C,2),S=i[0],A=i[1],F=(0,t.useState)(""),M=a()(F,2),R=M[0],$=M[1],Z=(0,t.useState)(g),U=a()(Z,2),N=U[0],B=U[1],z=function(v){B(v?g:K)},H=[{dataIndex:"index",valueType:"index"},{title:"\u547D\u540D\u7A7A\u95F4",renderText:function(){return N}},{title:"\u5E94\u7528\u90E8\u7F72\u540D",dataIndex:"deploymentName",copyable:!0},{title:"\u5F53\u524D\u955C\u50CF\u540D",dataIndex:"containers",copyable:!0,renderText:function(v,h){var O=Object.keys(h.containers),J=O.map(function(Q){return h.containers[Q]});return J.join(`
`)}}];return(0,t.useEffect)(function(){u&&u.length>0&&A(u[0].id)},[u]),(0,n.jsx)(p._z,{children:u&&S>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{type:"card",onChange:function(v){B(g),A(Number(v));var h=u.find(function(O){return O.id===Number(v)});h&&$(h.name)},items:u.map(function(_){return{key:_.id.toString(),label:_.description}})}),(0,n.jsx)(r.Z,{search:!1,columns:H,params:{envId:S,namespace:N},request:x,headerTitle:(R.includes("drill")||R.includes("inner"))&&(0,n.jsx)(c.Z,{onChange:z,checked:N===g,checkedChildren:"\u6B63\u5F0F\u547D\u540D\u7A7A\u95F4",unCheckedChildren:"\u7070\u5EA6\u547D\u540D\u7A7A\u95F4"})})]})})},G=W},612:function(L,E,e){e.d(E,{Dk:function(){return x},hP:function(){return T},iO:function(){return b}});var j=e(15009),a=e.n(j),y=e(97857),o=e.n(y),P=e(99289),d=e.n(P),f=e(80854);function T(r){return m.apply(this,arguments)}function m(){return m=d()(a()().mark(function r(s){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/v1/envs",o()({method:"GET"},s||{})));case 1:case"end":return t.stop()}},r)})),m.apply(this,arguments)}function x(r,s){return l.apply(this,arguments)}function l(){return l=d()(a()().mark(function r(s,c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/v1/envs",o()({method:"POST",data:o()({},s)},c||{})));case 1:case"end":return n.stop()}},r)})),l.apply(this,arguments)}function b(r,s){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function r(s,c){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.request)("/api/v1/envs/"+s.id,o()({method:"DELETE"},c||{})));case 1:case"end":return n.stop()}},r)})),p.apply(this,arguments)}}}]);
